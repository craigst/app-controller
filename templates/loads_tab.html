{% extends "base.html" %}
{% block title %}Collection Loads{% endblock %}
{% block content %}
<h3>Collection Loads for Selected Week</h3>

<form method="GET" action="{{ url_for('loads_tab') }}" class="form-inline mb-3">
  <label for="weekEnding" class="mr-2">Week Ending (Sunday):</label>
  <!-- You can use an HTML5 date input or a JavaScript datepicker -->
  <input type="date" id="weekEnding" name="weekEnding" class="form-control mr-2" value="{{ week_ending }}">
  <button type="submit" class="btn btn-primary">Load Loads</button>
</form>

{% if loads %}
  <table class="table table-bordered">
    <thead>
      <tr>
        <th>Date</th>
        <th>Load Number</th>
        <th>Collection Location</th>
        <th>Drop Off Location</th>
        <th>Number of Cars</th>
      </tr>
    </thead>
    <tbody>
      {% for load in loads %}
      <tr>
        <td>{{ load.dwjdate }}</td>
        <td>{{ load.dwjload }}</td>
        <td>{{ load.dwjname }}</td>
        <td>{{ load.destination or "N/A" }}</td>
        <td>{{ load.dwjvehs or "0" }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
{% else %}
  <p>No loads found for the selected week.</p>
{% endif %}
{% endblock %}
